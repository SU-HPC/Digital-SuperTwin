<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Digital-SuperTwin: sampling Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Digital-SuperTwin
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">sampling Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a3897f36b0a5f3a2b9f84f67fa2711b18"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesampling.html#a3897f36b0a5f3a2b9f84f67fa2711b18">get_date_tag</a> ()</td></tr>
<tr class="separator:a3897f36b0a5f3a2b9f84f67fa2711b18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fb10d684fec9fa4564638099ed94971"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesampling.html#a1fb10d684fec9fa4564638099ed94971">add_pcp</a> (SuperTwin, <a class="el" href="namespacesampling.html#acd0021511cac5abb3684777a21bd7cf4">config_lines</a>)</td></tr>
<tr class="separator:a1fb10d684fec9fa4564638099ed94971"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a035f3e5fd1d0590d8f1fb504689f9fb2"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesampling.html#a035f3e5fd1d0590d8f1fb504689f9fb2">generate_pcp2influxdb_config</a> (SuperTwin)</td></tr>
<tr class="separator:a035f3e5fd1d0590d8f1fb504689f9fb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a614c30f4996f5b95c508620a432ab5e8"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesampling.html#a614c30f4996f5b95c508620a432ab5e8">generate_pcp2influxdb_config_observation</a> (SuperTwin, observation_id)</td></tr>
<tr class="separator:a614c30f4996f5b95c508620a432ab5e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35c0e7b0b7f1b00e0e4fe9af85416e31"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesampling.html#a35c0e7b0b7f1b00e0e4fe9af85416e31">generate_perfevent_conf</a> (SuperTwin)</td></tr>
<tr class="separator:a35c0e7b0b7f1b00e0e4fe9af85416e31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a956a33b35a27ebeef0988e026354b6f6"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesampling.html#a956a33b35a27ebeef0988e026354b6f6">reconfigure_perfevent</a> (SuperTwin)</td></tr>
<tr class="separator:a956a33b35a27ebeef0988e026354b6f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd43ba86e5eb966d57de58795cbfa6fd"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesampling.html#abd43ba86e5eb966d57de58795cbfa6fd">begin_sampling_pcp</a> (SuperTwin)</td></tr>
<tr class="separator:abd43ba86e5eb966d57de58795cbfa6fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebf7ece4cd4abcbf5c686b07bc24a170"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesampling.html#aebf7ece4cd4abcbf5c686b07bc24a170">begin_sampling_pmu</a> (SuperTwin)</td></tr>
<tr class="separator:aebf7ece4cd4abcbf5c686b07bc24a170"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9af6e9a432a6f869230d1e0b7f981a69"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesampling.html#a9af6e9a432a6f869230d1e0b7f981a69">main</a> (SuperTwin)</td></tr>
<tr class="separator:a9af6e9a432a6f869230d1e0b7f981a69"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:acd0021511cac5abb3684777a21bd7cf4"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesampling.html#acd0021511cac5abb3684777a21bd7cf4">config_lines</a></td></tr>
<tr class="memdesc:acd0021511cac5abb3684777a21bd7cf4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Quick fix.  <a href="namespacesampling.html#acd0021511cac5abb3684777a21bd7cf4">More...</a><br /></td></tr>
<tr class="separator:acd0021511cac5abb3684777a21bd7cf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1cf2aa44b70a91adb961f0816689a70"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesampling.html#ae1cf2aa44b70a91adb961f0816689a70">metrics</a> = [<a class="el" href="symgs_8m.html#a9336ebf25087d91c818ee6e9ec29f8c1">x</a> for <a class="el" href="symgs_8m.html#a9336ebf25087d91c818ee6e9ec29f8c1">x</a> in metrics if <a class="el" href="symgs_8m.html#a9336ebf25087d91c818ee6e9ec29f8c1">x</a> != &quot;&quot;]</td></tr>
<tr class="separator:ae1cf2aa44b70a91adb961f0816689a70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe8b72600614798cedc942dfd4675407"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesampling.html#abe8b72600614798cedc942dfd4675407">pcp_conf_name</a> = &quot;pcp_&quot; + source_name + db_tag + &quot;.conf&quot;</td></tr>
<tr class="memdesc:abe8b72600614798cedc942dfd4675407"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add remote ship overheead config_lines = add_pcp(SuperTwin, config_lines)  <a href="namespacesampling.html#abe8b72600614798cedc942dfd4675407">More...</a><br /></td></tr>
<tr class="separator:abe8b72600614798cedc942dfd4675407"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6686df717016f17d8dd13b9106928c74"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesampling.html#a6686df717016f17d8dd13b9106928c74">writer</a> = open(<a class="el" href="namespacesampling.html#abe8b72600614798cedc942dfd4675407">pcp_conf_name</a>, &quot;w&quot;)</td></tr>
<tr class="separator:a6686df717016f17d8dd13b9106928c74"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a1fb10d684fec9fa4564638099ed94971"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fb10d684fec9fa4564638099ed94971">&#9670;&nbsp;</a></span>add_pcp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def sampling.add_pcp </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>SuperTwin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>config_lines</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sampling_8py_source.html#l00050">50</a> of file <a class="el" href="sampling_8py_source.html">sampling.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="keyword">def </span><a class="code" href="namespacesampling.html#a1fb10d684fec9fa4564638099ed94971">add_pcp</a>(SuperTwin, config_lines):</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160; </div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="comment"># &quot;4186626 /var/lib/pcp/pmdas/root/pmdaroot&quot;</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    </div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    pcp_lines = [</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        <span class="stringliteral">&quot;mem_use = mem_use \n&quot;</span>,</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        <span class="stringliteral">&quot;mem_use.formula = proc.psinfo.rss / 1024 \n&quot;</span>,</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        <span class="stringliteral">&quot;mem_use.label = &quot;</span> + <span class="stringliteral">&#39;&quot;&#39;</span> + <span class="stringliteral">&quot;mem_use&quot;</span> + <span class="stringliteral">&#39;&quot;&#39;</span> + <span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        <span class="stringliteral">&quot;cpu_use = cpu_use \n&quot;</span>,</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        <span class="stringliteral">&quot;cpu_use.formula = 0.1 * (proc.psinfo.utime + proc.psinfo.stime) \n&quot;</span>,</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        <span class="stringliteral">&quot;cpu_use.label = &quot;</span> + <span class="stringliteral">&#39;&quot;&#39;</span> + <span class="stringliteral">&quot;cpu_use&quot;</span> + <span class="stringliteral">&#39;&quot;&#39;</span> + <span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    ]</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160; </div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="keywordflow">return</span> config_lines + pcp_lines</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160; </div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160; </div>
<div class="ttc" id="anamespacesampling_html_a1fb10d684fec9fa4564638099ed94971"><div class="ttname"><a href="namespacesampling.html#a1fb10d684fec9fa4564638099ed94971">sampling.add_pcp</a></div><div class="ttdeci">def add_pcp(SuperTwin, config_lines)</div><div class="ttdef"><b>Definition:</b> <a href="sampling_8py_source.html#l00050">sampling.py:50</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abd43ba86e5eb966d57de58795cbfa6fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd43ba86e5eb966d57de58795cbfa6fd">&#9670;&nbsp;</a></span>begin_sampling_pcp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def sampling.begin_sampling_pcp </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>SuperTwin</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sampling_8py_source.html#l00223">223</a> of file <a class="el" href="sampling_8py_source.html">sampling.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="keyword">def </span><a class="code" href="namespacesampling.html#abd43ba86e5eb966d57de58795cbfa6fd">begin_sampling_pcp</a>(SuperTwin):</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    pcp_conf_name = <a class="code" href="namespacesampling.html#a035f3e5fd1d0590d8f1fb504689f9fb2">generate_pcp2influxdb_config</a>(SuperTwin)</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    print(<span class="stringliteral">&quot;pcp2influxdb configuration:&quot;</span>, pcp_conf_name, <span class="stringliteral">&quot;generated&quot;</span>)</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160; </div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="comment"># This command is executed on monitoring server</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;    <span class="comment"># Metrics to be monitored are defined in pcp_conf_name</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="comment"># Then pcp2influxdb connects to monitored server to get metric resutls.</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    p0_command = (</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        <span class="stringliteral">&quot;pcp2influxdb -t 1 -c &quot;</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        + pcp_conf_name</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        + <span class="stringliteral">&quot;  --ignore-unknown :configured&quot;</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    )</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    p0 = Popen(shlex.split(p0_command))</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    print(</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        <span class="stringliteral">&quot;A daemon with pid:&quot;</span>, p0.pid, <span class="stringliteral">&quot;is started monitoring&quot;</span>, SuperTwin.name</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    )</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160; </div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keywordflow">return</span> p0.pid</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160; </div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160; </div>
<div class="ttc" id="anamespacesampling_html_a035f3e5fd1d0590d8f1fb504689f9fb2"><div class="ttname"><a href="namespacesampling.html#a035f3e5fd1d0590d8f1fb504689f9fb2">sampling.generate_pcp2influxdb_config</a></div><div class="ttdeci">def generate_pcp2influxdb_config(SuperTwin)</div><div class="ttdef"><b>Definition:</b> <a href="sampling_8py_source.html#l00066">sampling.py:66</a></div></div>
<div class="ttc" id="anamespacesampling_html_abd43ba86e5eb966d57de58795cbfa6fd"><div class="ttname"><a href="namespacesampling.html#abd43ba86e5eb966d57de58795cbfa6fd">sampling.begin_sampling_pcp</a></div><div class="ttdeci">def begin_sampling_pcp(SuperTwin)</div><div class="ttdef"><b>Definition:</b> <a href="sampling_8py_source.html#l00223">sampling.py:223</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="sampling_8py_source.html#l00066">generate_pcp2influxdb_config()</a>.</p>

<p class="reference">Referenced by <a class="el" href="sampling_8py_source.html#l00265">main()</a>, and <a class="el" href="supertwin_8py_source.html#l00277">supertwin.SuperTwin.update_twin_document__assert_new_monitor_pid()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacesampling_abd43ba86e5eb966d57de58795cbfa6fd_cgraph.png" border="0" usemap="#anamespacesampling_abd43ba86e5eb966d57de58795cbfa6fd_cgraph" alt=""/></div>
<map name="anamespacesampling_abd43ba86e5eb966d57de58795cbfa6fd_cgraph" id="anamespacesampling_abd43ba86e5eb966d57de58795cbfa6fd_cgraph">
<area shape="rect" title=" " alt="" coords="5,111,224,138"/>
<area shape="rect" href="namespacesampling.html#a035f3e5fd1d0590d8f1fb504689f9fb2" title=" " alt="" coords="272,104,507,145"/>
<area shape="rect" href="namespaceutils.html#a95728ad06b9d1a79e109786671a12935" title="always have metrics adjusted to msrs" alt="" coords="555,111,749,138"/>
<area shape="rect" href="namespaceutils.html#aadf4e2e67cf8b34402f505fce65246e4" title=" " alt="" coords="799,82,905,109"/>
<area shape="rect" href="namespaceutils.html#a157300df214e643b92b6cd789da788cb" title=" " alt="" coords="797,137,907,163"/>
<area shape="rect" href="namespaceutils.html#ab7d3f717218f3752d8b3ea54e5e81d85" title=" " alt="" coords="991,5,1129,47"/>
<area shape="rect" href="namespaceutils.html#a5ee4b841cee89c6bfd14f47faca8ca4b" title=" " alt="" coords="979,71,1141,112"/>
<area shape="rect" href="namespaceutils.html#aed49904b82d4581c7a8f42d34776f6c4" title=" " alt="" coords="965,137,1155,163"/>
<area shape="rect" href="namespaceutils.html#ae09e60a8447cae6047706f99a7c0d13d" title=" " alt="" coords="1213,137,1408,163"/>
<area shape="rect" href="namespaceutils.html#a739ff5db96df1d345a1050cc255dcc40" title=" " alt="" coords="955,187,1165,214"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacesampling_abd43ba86e5eb966d57de58795cbfa6fd_icgraph.png" border="0" usemap="#anamespacesampling_abd43ba86e5eb966d57de58795cbfa6fd_icgraph" alt=""/></div>
<map name="anamespacesampling_abd43ba86e5eb966d57de58795cbfa6fd_icgraph" id="anamespacesampling_abd43ba86e5eb966d57de58795cbfa6fd_icgraph">
<area shape="rect" title=" " alt="" coords="931,78,1149,105"/>
<area shape="rect" href="namespacesampling.html#a9af6e9a432a6f869230d1e0b7f981a69" title=" " alt="" coords="764,46,883,73"/>
<area shape="rect" href="classsupertwin_1_1_super_twin.html#aad61b9a7f8743220c4d4d208606b6e90" title=" " alt="" coords="499,103,716,159"/>
<area shape="rect" href="classsupertwin__cross__save_1_1_super_twin.html#a2dfc09c9c4af31ec244523539183fada" title=" " alt="" coords="504,23,711,79"/>
<area shape="rect" href="classsupertwin_1_1_super_twin.html#a2a1ad7716098996bde4183d2338558b0" title=" " alt="" coords="252,5,412,47"/>
<area shape="rect" href="classsupertwin_1_1_super_twin.html#ac87e0a72ca6c9916e75823d10fee7fec" title=" " alt="" coords="215,71,449,112"/>
<area shape="rect" href="classsupertwin__cross__save_1_1_super_twin.html#a01e1c10fe8b1a57c121f834f735f097b" title=" " alt="" coords="213,136,451,177"/>
<area shape="rect" href="classsupertwin_1_1_super_twin.html#a0adcacaae35f9daf98b1d95537b376ae" title=" " alt="" coords="5,5,165,47"/>
</map>
</div>

</div>
</div>
<a id="aebf7ece4cd4abcbf5c686b07bc24a170"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebf7ece4cd4abcbf5c686b07bc24a170">&#9670;&nbsp;</a></span>begin_sampling_pmu()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def sampling.begin_sampling_pmu </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>SuperTwin</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sampling_8py_source.html#l00243">243</a> of file <a class="el" href="sampling_8py_source.html">sampling.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="keyword">def </span><a class="code" href="namespacesampling.html#aebf7ece4cd4abcbf5c686b07bc24a170">begin_sampling_pmu</a>(SuperTwin):</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    pcp_conf_name = <a class="code" href="namespacesampling.html#a614c30f4996f5b95c508620a432ab5e8">generate_pcp2influxdb_config_observation</a>(</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;        SuperTwin, SuperTwin.monitor_tag</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    )</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    print(<span class="stringliteral">&quot;pcp2influxdb configuration:&quot;</span>, pcp_conf_name, <span class="stringliteral">&quot;generated&quot;</span>)</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160; </div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <span class="comment"># This command is executed on monitoring server</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    <span class="comment"># Metrics to be monitored are defined in pcp_conf_name</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="comment"># Then pcp2influxdb connects to monitored server to get metric resutls.</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    p0_command = (</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;        <span class="stringliteral">&quot;pcp2influxdb -t 1 -c &quot;</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        + pcp_conf_name</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        + <span class="stringliteral">&quot; --ignore-unknown :configured&quot;</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    )</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    p0 = Popen(shlex.split(p0_command))</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    print(</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;        <span class="stringliteral">&quot;A daemon with pid:&quot;</span>, p0.pid, <span class="stringliteral">&quot;is started monitoring&quot;</span>, SuperTwin.name</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    )</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160; </div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="keywordflow">return</span> p0.pid</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160; </div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160; </div>
<div class="ttc" id="anamespacesampling_html_a614c30f4996f5b95c508620a432ab5e8"><div class="ttname"><a href="namespacesampling.html#a614c30f4996f5b95c508620a432ab5e8">sampling.generate_pcp2influxdb_config_observation</a></div><div class="ttdeci">def generate_pcp2influxdb_config_observation(SuperTwin, observation_id)</div><div class="ttdef"><b>Definition:</b> <a href="sampling_8py_source.html#l00127">sampling.py:127</a></div></div>
<div class="ttc" id="anamespacesampling_html_aebf7ece4cd4abcbf5c686b07bc24a170"><div class="ttname"><a href="namespacesampling.html#aebf7ece4cd4abcbf5c686b07bc24a170">sampling.begin_sampling_pmu</a></div><div class="ttdeci">def begin_sampling_pmu(SuperTwin)</div><div class="ttdef"><b>Definition:</b> <a href="sampling_8py_source.html#l00243">sampling.py:243</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="sampling_8py_source.html#l00127">generate_pcp2influxdb_config_observation()</a>.</p>

<p class="reference">Referenced by <a class="el" href="supertwin_8py_source.html#l00159">supertwin.SuperTwin.__reconstruct_twin()</a>, and <a class="el" href="sampling_8py_source.html#l00265">main()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacesampling_aebf7ece4cd4abcbf5c686b07bc24a170_cgraph.png" border="0" usemap="#anamespacesampling_aebf7ece4cd4abcbf5c686b07bc24a170_cgraph" alt=""/></div>
<map name="anamespacesampling_aebf7ece4cd4abcbf5c686b07bc24a170_cgraph" id="anamespacesampling_aebf7ece4cd4abcbf5c686b07bc24a170_cgraph">
<area shape="rect" title=" " alt="" coords="5,13,231,39"/>
<area shape="rect" href="namespacesampling.html#a614c30f4996f5b95c508620a432ab5e8" title=" " alt="" coords="279,5,513,47"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacesampling_aebf7ece4cd4abcbf5c686b07bc24a170_icgraph.png" border="0" usemap="#anamespacesampling_aebf7ece4cd4abcbf5c686b07bc24a170_icgraph" alt=""/></div>
<map name="anamespacesampling_aebf7ece4cd4abcbf5c686b07bc24a170_icgraph" id="anamespacesampling_aebf7ece4cd4abcbf5c686b07bc24a170_icgraph">
<area shape="rect" title=" " alt="" coords="920,45,1145,71"/>
<area shape="rect" href="classsupertwin_1_1_super_twin.html#a2a1ad7716098996bde4183d2338558b0" title=" " alt="" coords="252,5,412,47"/>
<area shape="rect" href="namespacesampling.html#a9af6e9a432a6f869230d1e0b7f981a69" title=" " alt="" coords="753,70,872,97"/>
<area shape="rect" href="classsupertwin_1_1_super_twin.html#a0adcacaae35f9daf98b1d95537b376ae" title=" " alt="" coords="5,5,165,47"/>
<area shape="rect" href="classsupertwin__cross__save_1_1_super_twin.html#a2dfc09c9c4af31ec244523539183fada" title=" " alt="" coords="499,63,705,119"/>
<area shape="rect" href="classsupertwin_1_1_super_twin.html#ac87e0a72ca6c9916e75823d10fee7fec" title=" " alt="" coords="215,71,449,112"/>
<area shape="rect" href="classsupertwin__cross__save_1_1_super_twin.html#a01e1c10fe8b1a57c121f834f735f097b" title=" " alt="" coords="213,136,451,177"/>
</map>
</div>

</div>
</div>
<a id="a035f3e5fd1d0590d8f1fb504689f9fb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a035f3e5fd1d0590d8f1fb504689f9fb2">&#9670;&nbsp;</a></span>generate_pcp2influxdb_config()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def sampling.generate_pcp2influxdb_config </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>SuperTwin</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sampling_8py_source.html#l00066">66</a> of file <a class="el" href="sampling_8py_source.html">sampling.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="keyword">def </span><a class="code" href="namespacesampling.html#a035f3e5fd1d0590d8f1fb504689f9fb2">generate_pcp2influxdb_config</a>(SuperTwin):</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160; </div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    db_name = SuperTwin.name</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    db_tag = SuperTwin.monitor_tag</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    sourceIP = SuperTwin.addr</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    source_name = SuperTwin.name</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    metrics = SuperTwin.monitor_metrics</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    always_have_metrics = <a class="code" href="namespaceutils.html#a95728ad06b9d1a79e109786671a12935">utils.always_have_metrics</a>(<span class="stringliteral">&quot;monitor&quot;</span>, SuperTwin)</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160; </div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keywordflow">for</span> item <span class="keywordflow">in</span> always_have_metrics:</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        <span class="keywordflow">if</span> item <span class="keywordflow">not</span> <span class="keywordflow">in</span> metrics <span class="keywordflow">and</span> item <span class="keywordflow">in</span> SuperTwin.pcp_metrics:</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;            metrics.append(item)</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160; </div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="keywordflow">if</span> <span class="stringliteral">&quot;hinv.cpu.clock&quot;</span> <span class="keywordflow">not</span> <span class="keywordflow">in</span> metrics:</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        metrics.append(<span class="stringliteral">&quot;hinv.cpu.clock&quot;</span>)</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160; </div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    </div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <span class="keywordflow">if</span> <span class="stringliteral">&quot;perfevent.hwcounters.RAPL_ENERGY_PKG.value&quot;</span> <span class="keywordflow">not</span> <span class="keywordflow">in</span> metrics:</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        metrics.append(<span class="stringliteral">&quot;perfevent.hwcounters.RAPL_ENERGY_PKG.value&quot;</span>)</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        </div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    </div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="keywordflow">if</span> <span class="stringliteral">&quot;perfevent.hwcounters.RAPL_ENERGY_DRAM.value&quot;</span> <span class="keywordflow">not</span> <span class="keywordflow">in</span> metrics:</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        metrics.append(<span class="stringliteral">&quot;perfevent.hwcounters.RAPL_ENERGY_DRAM.value&quot;</span>)</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        </div>
<div class="ttc" id="anamespaceutils_html_a95728ad06b9d1a79e109786671a12935"><div class="ttname"><a href="namespaceutils.html#a95728ad06b9d1a79e109786671a12935">utils.always_have_metrics</a></div><div class="ttdeci">def always_have_metrics(purpose, SuperTwin)</div><div class="ttdoc">always have metrics adjusted to msrs</div><div class="ttdef"><b>Definition:</b> <a href="utils_8py_source.html#l00717">utils.py:717</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="utils_8py_source.html#l00717">utils.always_have_metrics()</a>.</p>

<p class="reference">Referenced by <a class="el" href="sampling_8py_source.html#l00223">begin_sampling_pcp()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacesampling_a035f3e5fd1d0590d8f1fb504689f9fb2_cgraph.png" border="0" usemap="#anamespacesampling_a035f3e5fd1d0590d8f1fb504689f9fb2_cgraph" alt=""/></div>
<map name="anamespacesampling_a035f3e5fd1d0590d8f1fb504689f9fb2_cgraph" id="anamespacesampling_a035f3e5fd1d0590d8f1fb504689f9fb2_cgraph">
<area shape="rect" title=" " alt="" coords="5,104,240,145"/>
<area shape="rect" href="namespaceutils.html#a95728ad06b9d1a79e109786671a12935" title="always have metrics adjusted to msrs" alt="" coords="288,111,483,138"/>
<area shape="rect" href="namespaceutils.html#aadf4e2e67cf8b34402f505fce65246e4" title=" " alt="" coords="532,82,639,109"/>
<area shape="rect" href="namespaceutils.html#a157300df214e643b92b6cd789da788cb" title=" " alt="" coords="531,137,640,163"/>
<area shape="rect" href="namespaceutils.html#ab7d3f717218f3752d8b3ea54e5e81d85" title=" " alt="" coords="725,5,862,47"/>
<area shape="rect" href="namespaceutils.html#a5ee4b841cee89c6bfd14f47faca8ca4b" title=" " alt="" coords="713,71,874,112"/>
<area shape="rect" href="namespaceutils.html#aed49904b82d4581c7a8f42d34776f6c4" title=" " alt="" coords="699,137,888,163"/>
<area shape="rect" href="namespaceutils.html#ae09e60a8447cae6047706f99a7c0d13d" title=" " alt="" coords="947,137,1141,163"/>
<area shape="rect" href="namespaceutils.html#a739ff5db96df1d345a1050cc255dcc40" title=" " alt="" coords="688,187,899,214"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacesampling_a035f3e5fd1d0590d8f1fb504689f9fb2_icgraph.png" border="0" usemap="#anamespacesampling_a035f3e5fd1d0590d8f1fb504689f9fb2_icgraph" alt=""/></div>
<map name="anamespacesampling_a035f3e5fd1d0590d8f1fb504689f9fb2_icgraph" id="anamespacesampling_a035f3e5fd1d0590d8f1fb504689f9fb2_icgraph">
<area shape="rect" title=" " alt="" coords="1197,71,1432,112"/>
<area shape="rect" href="namespacesampling.html#abd43ba86e5eb966d57de58795cbfa6fd" title=" " alt="" coords="931,78,1149,105"/>
<area shape="rect" href="namespacesampling.html#a9af6e9a432a6f869230d1e0b7f981a69" title=" " alt="" coords="764,46,883,73"/>
<area shape="rect" href="classsupertwin_1_1_super_twin.html#aad61b9a7f8743220c4d4d208606b6e90" title=" " alt="" coords="499,103,716,159"/>
<area shape="rect" href="classsupertwin__cross__save_1_1_super_twin.html#a2dfc09c9c4af31ec244523539183fada" title=" " alt="" coords="504,23,711,79"/>
<area shape="rect" href="classsupertwin_1_1_super_twin.html#a2a1ad7716098996bde4183d2338558b0" title=" " alt="" coords="252,5,412,47"/>
<area shape="rect" href="classsupertwin_1_1_super_twin.html#ac87e0a72ca6c9916e75823d10fee7fec" title=" " alt="" coords="215,71,449,112"/>
<area shape="rect" href="classsupertwin__cross__save_1_1_super_twin.html#a01e1c10fe8b1a57c121f834f735f097b" title=" " alt="" coords="213,136,451,177"/>
<area shape="rect" href="classsupertwin_1_1_super_twin.html#a0adcacaae35f9daf98b1d95537b376ae" title=" " alt="" coords="5,5,165,47"/>
</map>
</div>

</div>
</div>
<a id="a614c30f4996f5b95c508620a432ab5e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a614c30f4996f5b95c508620a432ab5e8">&#9670;&nbsp;</a></span>generate_pcp2influxdb_config_observation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def sampling.generate_pcp2influxdb_config_observation </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>SuperTwin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>observation_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sampling_8py_source.html#l00127">127</a> of file <a class="el" href="sampling_8py_source.html">sampling.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;<span class="keyword">def </span><a class="code" href="namespacesampling.html#a614c30f4996f5b95c508620a432ab5e8">generate_pcp2influxdb_config_observation</a>(SuperTwin, observation_id):</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160; </div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    db_tag = observation_id</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    db_name = SuperTwin.influxdb_name</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    sourceIP = SuperTwin.addr</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    source_name = SuperTwin.name</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    metrics = SuperTwin.observation_metrics</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160; </div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    metrics = [x.strip(<span class="stringliteral">&quot;node&quot;</span>).strip(<span class="stringliteral">&quot; &quot;</span>) <span class="keywordflow">for</span> x <span class="keywordflow">in</span> metrics]</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    metrics = [</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        <span class="stringliteral">&quot;perfevent.hwcounters.&quot;</span> + x.replace(<span class="stringliteral">&quot;:&quot;</span>, <span class="stringliteral">&quot;_&quot;</span>) + <span class="stringliteral">&quot;.value&quot;</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        <span class="keywordflow">for</span> x <span class="keywordflow">in</span> metrics</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    ]</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160; </div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    config_lines = [</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        <span class="stringliteral">&quot;[options]&quot;</span> + <span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        <span class="stringliteral">&quot;influx_server = http://127.0.0.1:8086&quot;</span> + <span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        <span class="stringliteral">&quot;influx_db = &quot;</span> + db_name + <span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        <span class="stringliteral">&quot;influx_tags = &quot;</span> + <span class="stringliteral">&quot;tag=&quot;</span> + db_tag + <span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        <span class="stringliteral">&quot;source = &quot;</span> + sourceIP + <span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        <span class="stringliteral">&quot;\n\n&quot;</span>,</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        <span class="stringliteral">&quot;[configured]&quot;</span> + <span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    ]</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160; </div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;    <span class="keywordflow">for</span> metric <span class="keywordflow">in</span> metrics:</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        config_lines.append(metric + <span class="stringliteral">&quot; = ,,&quot;</span> + <span class="stringliteral">&quot;\n&quot;</span>)</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160; </div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    pcp_conf_name = <span class="stringliteral">&quot;pcp_obsconf_&quot;</span> + source_name + <span class="stringliteral">&quot;_&quot;</span> + db_tag + <span class="stringliteral">&quot;.conf&quot;</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    writer = open(pcp_conf_name, <span class="stringliteral">&quot;w&quot;</span>)</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160; </div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="keywordflow">for</span> line <span class="keywordflow">in</span> config_lines:</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        writer.write(line)</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    writer.close()</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160; </div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="keywordflow">return</span> pcp_conf_name</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160; </div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160; </div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="sampling_8py_source.html#l00243">begin_sampling_pmu()</a>, <a class="el" href="supertwin_8py_source.html#l00772">supertwin.SuperTwin.execute_observation()</a>, <a class="el" href="supertwin__cross__save_8py_source.html#l00721">supertwin_cross_save.SuperTwin.execute_observation()</a>, <a class="el" href="supertwin_8py_source.html#l00785">supertwin.SuperTwin.execute_observation_batch_element()</a>, <a class="el" href="supertwin__cross__save_8py_source.html#l00729">supertwin_cross_save.SuperTwin.execute_observation_batch_element()</a>, <a class="el" href="supertwin_8py_source.html#l00799">supertwin.SuperTwin.execute_observation_batch_element_parameters()</a>, <a class="el" href="supertwin__cross__save_8py_source.html#l00738">supertwin_cross_save.SuperTwin.execute_observation_batch_element_parameters()</a>, <a class="el" href="supertwin_8py_source.html#l00903">supertwin.execute_observation_element_parameters()</a>, <a class="el" href="supertwin__cross__save_8py_source.html#l00795">supertwin_cross_save.SuperTwin.execute_observation_element_parameters()</a>, <a class="el" href="observation_8py_source.html#l00067">observation.observe_script_wrap()</a>, and <a class="el" href="observation_8py_source.html#l00017">observation.observe_wrap()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacesampling_a614c30f4996f5b95c508620a432ab5e8_icgraph.png" border="0" usemap="#anamespacesampling_a614c30f4996f5b95c508620a432ab5e8_icgraph" alt=""/></div>
<map name="anamespacesampling_a614c30f4996f5b95c508620a432ab5e8_icgraph" id="anamespacesampling_a614c30f4996f5b95c508620a432ab5e8_icgraph">
<area shape="rect" title=" " alt="" coords="1313,453,1548,495"/>
<area shape="rect" href="namespacesampling.html#aebf7ece4cd4abcbf5c686b07bc24a170" title=" " alt="" coords="1040,117,1265,143"/>
<area shape="rect" href="classsupertwin_1_1_super_twin.html#ae3a5fc7daaf237dad4860c0646f7ebab" title=" " alt="" coords="1047,168,1258,209"/>
<area shape="rect" href="classsupertwin__cross__save_1_1_super_twin.html#a51096f406c5808f0845b84a00c2e3196" title=" " alt="" coords="1049,233,1256,275"/>
<area shape="rect" href="classsupertwin_1_1_super_twin.html#afab62c212bb1052a899d0f56ba1bef80" title=" " alt="" coords="1047,380,1258,421"/>
<area shape="rect" href="classsupertwin__cross__save_1_1_super_twin.html#a0984f9edd88ea5ff417eac2a840220d1" title=" " alt="" coords="1049,299,1256,355"/>
<area shape="rect" href="classsupertwin_1_1_super_twin.html#a6539938fb0f1c30fdc0e1df39ea0ab45" title=" " alt="" coords="1047,526,1258,582"/>
<area shape="rect" href="classsupertwin__cross__save_1_1_super_twin.html#a07a965a9fea44710dbfea8401df8963f" title=" " alt="" coords="1049,446,1257,502"/>
<area shape="rect" href="namespacesupertwin.html#aa7752d40bb344ba5684e35f4841abe52" title=" " alt="" coords="1040,607,1265,648"/>
<area shape="rect" href="classsupertwin__cross__save_1_1_super_twin.html#a4fd563bda8b053004a22c95a00d7dbcc" title=" " alt="" coords="1049,673,1256,729"/>
<area shape="rect" href="namespaceobservation.html#a4dc598bf3becf46fd1471d014230cade" title=" " alt="" coords="1075,753,1230,795"/>
<area shape="rect" href="namespaceobservation.html#a216dbff2a289d6688d3afbf927b0403a" title=" " alt="" coords="1055,819,1250,846"/>
<area shape="rect" href="classsupertwin_1_1_super_twin.html#a2a1ad7716098996bde4183d2338558b0" title=" " alt="" coords="252,136,412,177"/>
<area shape="rect" href="namespacesampling.html#a9af6e9a432a6f869230d1e0b7f981a69" title=" " alt="" coords="816,85,935,111"/>
<area shape="rect" href="classsupertwin_1_1_super_twin.html#a0adcacaae35f9daf98b1d95537b376ae" title=" " alt="" coords="5,136,165,177"/>
<area shape="rect" href="classsupertwin__cross__save_1_1_super_twin.html#a2dfc09c9c4af31ec244523539183fada" title=" " alt="" coords="501,63,708,119"/>
<area shape="rect" href="classsupertwin_1_1_super_twin.html#ac87e0a72ca6c9916e75823d10fee7fec" title=" " alt="" coords="215,5,449,47"/>
<area shape="rect" href="classsupertwin__cross__save_1_1_super_twin.html#a01e1c10fe8b1a57c121f834f735f097b" title=" " alt="" coords="213,71,451,112"/>
<area shape="rect" href="classsupertwin_1_1_super_twin.html#a328ae8f4f10cd5b93fffe54a3100088d" title=" " alt="" coords="770,379,981,420"/>
<area shape="rect" href="classsupertwin__cross__save_1_1_super_twin.html#af00144a8917c5724c3daa25ec70ecabf" title=" " alt="" coords="759,311,992,352"/>
<area shape="rect" href="classsupertwin_1_1_super_twin.html#a9d4e3f34cbf9c5bf65d3f192acc439ff" title=" " alt="" coords="760,531,991,572"/>
<area shape="rect" href="classsupertwin__cross__save_1_1_super_twin.html#a03cbfbd471c42c811686e923adc4108b" title=" " alt="" coords="772,447,979,503"/>
<area shape="rect" href="classsupertwin__cross__save_1_1_super_twin.html#aa5ab2a49ee0092be53d220ee0ef2e703" title=" " alt="" coords="772,673,979,729"/>
<area shape="rect" href="namespacehpcg__benchmark.html#aaade7e196334b279bff4a6b080eb7308" title=" " alt="" coords="781,819,969,860"/>
<area shape="rect" href="namespacestream__benchmark.html#aa5a1be0279fb08151bb96b640307c6f3" title=" " alt="" coords="774,753,977,795"/>
<area shape="rect" href="classsupertwin__cross__save_1_1_super_twin.html#a38e46242f030cbbfa3374ef9ea7b0671" title=" " alt="" coords="501,819,708,860"/>
<area shape="rect" href="classsupertwin__cross__save_1_1_super_twin.html#a9ef316cdee1f473ce1dd023254e799ee" title=" " alt="" coords="499,753,711,795"/>
</map>
</div>

</div>
</div>
<a id="a35c0e7b0b7f1b00e0e4fe9af85416e31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35c0e7b0b7f1b00e0e4fe9af85416e31">&#9670;&nbsp;</a></span>generate_perfevent_conf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def sampling.generate_perfevent_conf </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>SuperTwin</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sampling_8py_source.html#l00164">164</a> of file <a class="el" href="sampling_8py_source.html">sampling.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="keyword">def </span><a class="code" href="namespacesampling.html#a35c0e7b0b7f1b00e0e4fe9af85416e31">generate_perfevent_conf</a>(SuperTwin):</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160; </div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    metrics = SuperTwin.observation_metrics</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    always_have_metrics = <a class="code" href="namespaceutils.html#a95728ad06b9d1a79e109786671a12935">utils.always_have_metrics</a>(<span class="stringliteral">&quot;observation&quot;</span>, SuperTwin)</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160; </div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="keywordflow">for</span> item <span class="keywordflow">in</span> always_have_metrics:</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        <span class="keywordflow">if</span> item <span class="keywordflow">not</span> <span class="keywordflow">in</span> metrics:</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;            metrics.append(item)</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160; </div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    msr = <a class="code" href="namespaceutils.html#aadf4e2e67cf8b34402f505fce65246e4">utils.get_msr</a>(SuperTwin)</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160; </div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    writer = open(<span class="stringliteral">&quot;perfevent.conf&quot;</span>, <span class="stringliteral">&quot;w+&quot;</span>)</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    writer.write(<span class="stringliteral">&quot;[&quot;</span> + msr + <span class="stringliteral">&quot;]&quot;</span> + <span class="stringliteral">&quot;\n&quot;</span>)</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keywordflow">for</span> item <span class="keywordflow">in</span> metrics:</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;        writer.write(item + <span class="stringliteral">&quot;\n&quot;</span>)</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    writer.close()</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160; </div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    print(<span class="stringliteral">&quot;Generated new perfevent pmda configuration..&quot;</span>)</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160; </div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160; </div>
<div class="ttc" id="anamespacesampling_html_a35c0e7b0b7f1b00e0e4fe9af85416e31"><div class="ttname"><a href="namespacesampling.html#a35c0e7b0b7f1b00e0e4fe9af85416e31">sampling.generate_perfevent_conf</a></div><div class="ttdeci">def generate_perfevent_conf(SuperTwin)</div><div class="ttdef"><b>Definition:</b> <a href="sampling_8py_source.html#l00164">sampling.py:164</a></div></div>
<div class="ttc" id="anamespaceutils_html_aadf4e2e67cf8b34402f505fce65246e4"><div class="ttname"><a href="namespaceutils.html#aadf4e2e67cf8b34402f505fce65246e4">utils.get_msr</a></div><div class="ttdeci">def get_msr(SuperTwin)</div><div class="ttdef"><b>Definition:</b> <a href="utils_8py_source.html#l00676">utils.py:676</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="utils_8py_source.html#l00717">utils.always_have_metrics()</a>, and <a class="el" href="utils_8py_source.html#l00676">utils.get_msr()</a>.</p>

<p class="reference">Referenced by <a class="el" href="supertwin_8py_source.html#l00767">supertwin.SuperTwin.reconfigure_perfevent()</a>, and <a class="el" href="supertwin__cross__save_8py_source.html#l00715">supertwin_cross_save.SuperTwin.reconfigure_perfevent()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacesampling_a35c0e7b0b7f1b00e0e4fe9af85416e31_cgraph.png" border="0" usemap="#anamespacesampling_a35c0e7b0b7f1b00e0e4fe9af85416e31_cgraph" alt=""/></div>
<map name="anamespacesampling_a35c0e7b0b7f1b00e0e4fe9af85416e31_cgraph" id="anamespacesampling_a35c0e7b0b7f1b00e0e4fe9af85416e31_cgraph">
<area shape="rect" title=" " alt="" coords="5,107,255,134"/>
<area shape="rect" href="namespaceutils.html#a95728ad06b9d1a79e109786671a12935" title="always have metrics adjusted to msrs" alt="" coords="303,133,497,159"/>
<area shape="rect" href="namespaceutils.html#aadf4e2e67cf8b34402f505fce65246e4" title=" " alt="" coords="547,82,653,109"/>
<area shape="rect" href="namespaceutils.html#a157300df214e643b92b6cd789da788cb" title=" " alt="" coords="545,137,655,163"/>
<area shape="rect" href="namespaceutils.html#ab7d3f717218f3752d8b3ea54e5e81d85" title=" " alt="" coords="739,5,877,47"/>
<area shape="rect" href="namespaceutils.html#a5ee4b841cee89c6bfd14f47faca8ca4b" title=" " alt="" coords="727,71,889,112"/>
<area shape="rect" href="namespaceutils.html#aed49904b82d4581c7a8f42d34776f6c4" title=" " alt="" coords="713,137,903,163"/>
<area shape="rect" href="namespaceutils.html#ae09e60a8447cae6047706f99a7c0d13d" title=" " alt="" coords="961,137,1156,163"/>
<area shape="rect" href="namespaceutils.html#a739ff5db96df1d345a1050cc255dcc40" title=" " alt="" coords="703,187,913,214"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacesampling_a35c0e7b0b7f1b00e0e4fe9af85416e31_icgraph.png" border="0" usemap="#anamespacesampling_a35c0e7b0b7f1b00e0e4fe9af85416e31_icgraph" alt=""/></div>
<map name="anamespacesampling_a35c0e7b0b7f1b00e0e4fe9af85416e31_icgraph" id="anamespacesampling_a35c0e7b0b7f1b00e0e4fe9af85416e31_icgraph">
<area shape="rect" title=" " alt="" coords="597,181,847,207"/>
<area shape="rect" href="classsupertwin_1_1_super_twin.html#a7ccd43dbbbdac6ea23c4432afe115086" title=" " alt="" coords="316,140,549,181"/>
<area shape="rect" href="classsupertwin__cross__save_1_1_super_twin.html#a2dad69a42e2de3fba86b54bdcadcc4f6" title=" " alt="" coords="329,205,536,247"/>
<area shape="rect" href="classsupertwin_1_1_super_twin.html#ae53a9d39361fecd99a86e9853b6d2c5f" title=" " alt="" coords="20,5,253,47"/>
<area shape="rect" href="classsupertwin__cross__save_1_1_super_twin.html#a8e2e469b655693507a7374451a242e34" title=" " alt="" coords="5,71,268,112"/>
<area shape="rect" href="classsupertwin_1_1_super_twin.html#aa4ae26acba6091e8e08c9e78bc06ddad" title=" " alt="" coords="20,136,253,177"/>
<area shape="rect" href="classsupertwin__cross__save_1_1_super_twin.html#ad46861926d0ca4979ea854f5dcb0ae34" title=" " alt="" coords="31,202,243,258"/>
<area shape="rect" href="classsupertwin_1_1_super_twin.html#a307f00c74dfab87b6385a62f7e8977c1" title=" " alt="" coords="7,283,266,324"/>
<area shape="rect" href="classsupertwin__cross__save_1_1_super_twin.html#a41ca82966003fd3292a44ba739d2437d" title=" " alt="" coords="31,349,243,405"/>
</map>
</div>

</div>
</div>
<a id="a3897f36b0a5f3a2b9f84f67fa2711b18"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3897f36b0a5f3a2b9f84f67fa2711b18">&#9670;&nbsp;</a></span>get_date_tag()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def sampling.get_date_tag </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sampling_8py_source.html#l00041">41</a> of file <a class="el" href="sampling_8py_source.html">sampling.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="keyword">def </span><a class="code" href="namespacesampling.html#a3897f36b0a5f3a2b9f84f67fa2711b18">get_date_tag</a>():</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160; </div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    date = datetime.datetime.now()</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    </div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    tag_date = date.strftime(<span class="stringliteral">&quot;%d%m%Y_%f&quot;</span>)</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160; </div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="keywordflow">return</span> tag_date</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160; </div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160; </div>
<div class="ttc" id="anamespacesampling_html_a3897f36b0a5f3a2b9f84f67fa2711b18"><div class="ttname"><a href="namespacesampling.html#a3897f36b0a5f3a2b9f84f67fa2711b18">sampling.get_date_tag</a></div><div class="ttdeci">def get_date_tag()</div><div class="ttdef"><b>Definition:</b> <a href="sampling_8py_source.html#l00041">sampling.py:41</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9af6e9a432a6f869230d1e0b7f981a69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9af6e9a432a6f869230d1e0b7f981a69">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def sampling.main </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>SuperTwin</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sampling_8py_source.html#l00265">265</a> of file <a class="el" href="sampling_8py_source.html">sampling.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="keyword">def </span><a class="code" href="namespacesampling.html#a9af6e9a432a6f869230d1e0b7f981a69">main</a>(SuperTwin):</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="namespacesampling.html#abd43ba86e5eb966d57de58795cbfa6fd">begin_sampling_pcp</a>(SuperTwin), <a class="code" href="namespacesampling.html#aebf7ece4cd4abcbf5c686b07bc24a170">begin_sampling_pmu</a>(SuperTwin))</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160; </div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160; </div>
<div class="ttc" id="anamespacesampling_html_a9af6e9a432a6f869230d1e0b7f981a69"><div class="ttname"><a href="namespacesampling.html#a9af6e9a432a6f869230d1e0b7f981a69">sampling.main</a></div><div class="ttdeci">def main(SuperTwin)</div><div class="ttdef"><b>Definition:</b> <a href="sampling_8py_source.html#l00265">sampling.py:265</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="sampling_8py_source.html#l00223">begin_sampling_pcp()</a>, and <a class="el" href="sampling_8py_source.html#l00243">begin_sampling_pmu()</a>.</p>

<p class="reference">Referenced by <a class="el" href="supertwin__cross__save_8py_source.html#l00316">supertwin_cross_save.SuperTwin.update_twin_document__assert_new_monitor_pid()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacesampling_a9af6e9a432a6f869230d1e0b7f981a69_cgraph.png" border="0" usemap="#anamespacesampling_a9af6e9a432a6f869230d1e0b7f981a69_cgraph" alt=""/></div>
<map name="anamespacesampling_a9af6e9a432a6f869230d1e0b7f981a69_cgraph" id="anamespacesampling_a9af6e9a432a6f869230d1e0b7f981a69_cgraph">
<area shape="rect" title=" " alt="" coords="5,145,124,171"/>
<area shape="rect" href="namespacesampling.html#abd43ba86e5eb966d57de58795cbfa6fd" title=" " alt="" coords="175,115,394,142"/>
<area shape="rect" href="namespacesampling.html#aebf7ece4cd4abcbf5c686b07bc24a170" title=" " alt="" coords="172,170,397,197"/>
<area shape="rect" href="namespacesampling.html#a035f3e5fd1d0590d8f1fb504689f9fb2" title=" " alt="" coords="445,104,680,145"/>
<area shape="rect" href="namespaceutils.html#a95728ad06b9d1a79e109786671a12935" title="always have metrics adjusted to msrs" alt="" coords="728,111,923,138"/>
<area shape="rect" href="namespaceutils.html#aadf4e2e67cf8b34402f505fce65246e4" title=" " alt="" coords="972,82,1079,109"/>
<area shape="rect" href="namespaceutils.html#a157300df214e643b92b6cd789da788cb" title=" " alt="" coords="971,137,1080,163"/>
<area shape="rect" href="namespaceutils.html#ab7d3f717218f3752d8b3ea54e5e81d85" title=" " alt="" coords="1165,5,1302,47"/>
<area shape="rect" href="namespaceutils.html#a5ee4b841cee89c6bfd14f47faca8ca4b" title=" " alt="" coords="1153,71,1314,112"/>
<area shape="rect" href="namespaceutils.html#aed49904b82d4581c7a8f42d34776f6c4" title=" " alt="" coords="1139,137,1328,163"/>
<area shape="rect" href="namespaceutils.html#ae09e60a8447cae6047706f99a7c0d13d" title=" " alt="" coords="1387,137,1581,163"/>
<area shape="rect" href="namespaceutils.html#a739ff5db96df1d345a1050cc255dcc40" title=" " alt="" coords="1128,187,1339,214"/>
<area shape="rect" href="namespacesampling.html#a614c30f4996f5b95c508620a432ab5e8" title=" " alt="" coords="445,169,680,211"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacesampling_a9af6e9a432a6f869230d1e0b7f981a69_icgraph.png" border="0" usemap="#anamespacesampling_a9af6e9a432a6f869230d1e0b7f981a69_icgraph" alt=""/></div>
<map name="anamespacesampling_a9af6e9a432a6f869230d1e0b7f981a69_icgraph" id="anamespacesampling_a9af6e9a432a6f869230d1e0b7f981a69_icgraph">
<area shape="rect" title=" " alt="" coords="753,78,872,105"/>
<area shape="rect" href="classsupertwin__cross__save_1_1_super_twin.html#a2dfc09c9c4af31ec244523539183fada" title=" " alt="" coords="499,63,705,119"/>
<area shape="rect" href="classsupertwin_1_1_super_twin.html#a2a1ad7716098996bde4183d2338558b0" title=" " alt="" coords="252,5,412,47"/>
<area shape="rect" href="classsupertwin_1_1_super_twin.html#ac87e0a72ca6c9916e75823d10fee7fec" title=" " alt="" coords="215,71,449,112"/>
<area shape="rect" href="classsupertwin__cross__save_1_1_super_twin.html#a01e1c10fe8b1a57c121f834f735f097b" title=" " alt="" coords="213,136,451,177"/>
<area shape="rect" href="classsupertwin_1_1_super_twin.html#a0adcacaae35f9daf98b1d95537b376ae" title=" " alt="" coords="5,5,165,47"/>
</map>
</div>

</div>
</div>
<a id="a956a33b35a27ebeef0988e026354b6f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a956a33b35a27ebeef0988e026354b6f6">&#9670;&nbsp;</a></span>reconfigure_perfevent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def sampling.reconfigure_perfevent </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>SuperTwin</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sampling_8py_source.html#l00184">184</a> of file <a class="el" href="sampling_8py_source.html">sampling.py</a>.</p>
<div class="fragment"><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="keyword">def </span><a class="code" href="namespacesampling.html#a956a33b35a27ebeef0988e026354b6f6">reconfigure_perfevent</a>(SuperTwin):</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160; </div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    SSHuser = SuperTwin.SSHuser</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    SSHpass = SuperTwin.SSHpass</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160; </div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    ssh = paramiko.SSHClient()</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    ssh.set_missing_host_key_policy(paramiko.AutoAddPolicy())</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    ssh.connect(SuperTwin.addr, username=SSHuser, password=SSHpass)</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160; </div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    scp = SCPClient(ssh.get_transport())</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160; </div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    </div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160; </div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <a class="code" href="namespaceremote__probe.html#a33e3df8803a43e9a4ac1bea93302522a">remote_probe.run_command</a>(ssh, SuperTwin.name, <span class="stringliteral">&quot;mkdir /tmp/dt_files&quot;</span>)</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    scp.put(<span class="stringliteral">&quot;perfevent.conf&quot;</span>, remote_path=<span class="stringliteral">&quot;/tmp/dt_files&quot;</span>)</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160; </div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    reconfigure_perf_sh = [</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        <span class="stringliteral">&quot;#!/bin/bash \n&quot;</span>,</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        <span class="stringliteral">&quot;cd /var/lib/pcp/pmdas/perfevent&quot;</span>,</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        <span class="stringliteral">&quot;cp /tmp/dt_files/perfevent.conf /var/lib/pcp/pmdas/perfevent&quot;</span>,</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        <span class="stringliteral">&quot;/var/lib/pcp/pmdas/perfevent/./Remove&quot;</span>,</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        <span class="stringliteral">&quot;printf &#39;pipe&#39; | /var/lib/pcp/pmdas/perfevent/./Install&quot;</span>,</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    ]</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160; </div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    writer = open(<span class="stringliteral">&quot;reconfigure_perf.sh&quot;</span>, <span class="stringliteral">&quot;w+&quot;</span>)</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="keywordflow">for</span> line <span class="keywordflow">in</span> reconfigure_perf_sh:</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        writer.write(line + <span class="stringliteral">&quot;\n&quot;</span>)</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    writer.close()</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160; </div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    scp.put(<span class="stringliteral">&quot;reconfigure_perf.sh&quot;</span>, remote_path=<span class="stringliteral">&quot;/tmp/dt_files&quot;</span>)</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <a class="code" href="namespaceremote__probe.html#a60507e91d07ed231050d9a428c3680cf">remote_probe.run_sudo_command</a>(</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        ssh,</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        SuperTwin.SSHpass,</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        SuperTwin.name,</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        <span class="stringliteral">&quot;sudo sh /tmp/dt_files/reconfigure_perf.sh&quot;</span>,</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    )</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    print(<span class="stringliteral">&quot;Reconfigured remote perfevent pmda&quot;</span>)</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160; </div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160; </div>
<div class="ttc" id="anamespaceremote__probe_html_a33e3df8803a43e9a4ac1bea93302522a"><div class="ttname"><a href="namespaceremote__probe.html#a33e3df8803a43e9a4ac1bea93302522a">remote_probe.run_command</a></div><div class="ttdeci">def run_command(ssh_client, name, command)</div><div class="ttdef"><b>Definition:</b> <a href="remote__probe_8py_source.html#l00063">remote_probe.py:63</a></div></div>
<div class="ttc" id="anamespaceremote__probe_html_a60507e91d07ed231050d9a428c3680cf"><div class="ttname"><a href="namespaceremote__probe.html#a60507e91d07ed231050d9a428c3680cf">remote_probe.run_sudo_command</a></div><div class="ttdeci">def run_sudo_command(ssh_client, SSHkey, name, command)</div><div class="ttdef"><b>Definition:</b> <a href="remote__probe_8py_source.html#l00018">remote_probe.py:18</a></div></div>
<div class="ttc" id="anamespacesampling_html_a956a33b35a27ebeef0988e026354b6f6"><div class="ttname"><a href="namespacesampling.html#a956a33b35a27ebeef0988e026354b6f6">sampling.reconfigure_perfevent</a></div><div class="ttdeci">def reconfigure_perfevent(SuperTwin)</div><div class="ttdef"><b>Definition:</b> <a href="sampling_8py_source.html#l00184">sampling.py:184</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="remote__probe_8py_source.html#l00063">remote_probe.run_command()</a>, and <a class="el" href="remote__probe_8py_source.html#l00018">remote_probe.run_sudo_command()</a>.</p>

<p class="reference">Referenced by <a class="el" href="supertwin_8py_source.html#l00713">supertwin.SuperTwin.reconfigure_observation_events_with_pmu_events()</a>, <a class="el" href="supertwin_8py_source.html#l00767">supertwin.SuperTwin.reconfigure_perfevent()</a>, and <a class="el" href="supertwin__cross__save_8py_source.html#l00715">supertwin_cross_save.SuperTwin.reconfigure_perfevent()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacesampling_a956a33b35a27ebeef0988e026354b6f6_cgraph.png" border="0" usemap="#anamespacesampling_a956a33b35a27ebeef0988e026354b6f6_cgraph" alt=""/></div>
<map name="anamespacesampling_a956a33b35a27ebeef0988e026354b6f6_cgraph" id="anamespacesampling_a956a33b35a27ebeef0988e026354b6f6_cgraph">
<area shape="rect" title=" " alt="" coords="5,27,164,69"/>
<area shape="rect" href="namespaceremote__probe.html#a33e3df8803a43e9a4ac1bea93302522a" title=" " alt="" coords="212,5,423,32"/>
<area shape="rect" href="namespaceremote__probe.html#a60507e91d07ed231050d9a428c3680cf" title=" " alt="" coords="229,57,405,98"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="namespacesampling_a956a33b35a27ebeef0988e026354b6f6_icgraph.png" border="0" usemap="#anamespacesampling_a956a33b35a27ebeef0988e026354b6f6_icgraph" alt=""/></div>
<map name="anamespacesampling_a956a33b35a27ebeef0988e026354b6f6_icgraph" id="anamespacesampling_a956a33b35a27ebeef0988e026354b6f6_icgraph">
<area shape="rect" title=" " alt="" coords="851,225,1009,267"/>
<area shape="rect" href="classsupertwin_1_1_super_twin.html#ab672f974d98499397f4cad6085d37841" title=" " alt="" coords="524,83,803,124"/>
<area shape="rect" href="classsupertwin_1_1_super_twin.html#a7ccd43dbbbdac6ea23c4432afe115086" title=" " alt="" coords="547,291,780,332"/>
<area shape="rect" href="classsupertwin__cross__save_1_1_super_twin.html#a2dad69a42e2de3fba86b54bdcadcc4f6" title=" " alt="" coords="560,225,767,267"/>
<area shape="rect" href="classsupertwin_1_1_super_twin.html#a2a1ad7716098996bde4183d2338558b0" title=" " alt="" coords="265,5,425,47"/>
<area shape="rect" href="classsupertwin_1_1_super_twin.html#a0adcacaae35f9daf98b1d95537b376ae" title=" " alt="" coords="5,5,165,47"/>
<area shape="rect" href="classsupertwin_1_1_super_twin.html#ae53a9d39361fecd99a86e9853b6d2c5f" title=" " alt="" coords="228,299,461,340"/>
<area shape="rect" href="classsupertwin__cross__save_1_1_super_twin.html#a8e2e469b655693507a7374451a242e34" title=" " alt="" coords="213,364,476,405"/>
<area shape="rect" href="classsupertwin_1_1_super_twin.html#aa4ae26acba6091e8e08c9e78bc06ddad" title=" " alt="" coords="228,429,461,471"/>
<area shape="rect" href="classsupertwin__cross__save_1_1_super_twin.html#ad46861926d0ca4979ea854f5dcb0ae34" title=" " alt="" coords="239,71,451,127"/>
<area shape="rect" href="classsupertwin_1_1_super_twin.html#a307f00c74dfab87b6385a62f7e8977c1" title=" " alt="" coords="215,152,474,193"/>
<area shape="rect" href="classsupertwin__cross__save_1_1_super_twin.html#a41ca82966003fd3292a44ba739d2437d" title=" " alt="" coords="239,218,451,274"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="acd0021511cac5abb3684777a21bd7cf4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd0021511cac5abb3684777a21bd7cf4">&#9670;&nbsp;</a></span>config_lines</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">list sampling.config_lines</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;=  [</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;        <span class="stringliteral">&quot;[options]&quot;</span> + <span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;        <span class="stringliteral">&quot;influx_server = http://127.0.0.1:8086&quot;</span> + <span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;        <span class="stringliteral">&quot;influx_db = &quot;</span> + db_name + <span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;        <span class="stringliteral">&quot;influx_tags = &quot;</span> + <span class="stringliteral">&quot;tag=&quot;</span> + db_tag + <span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;        <span class="stringliteral">&quot;source = &quot;</span> + sourceIP + <span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;        <span class="stringliteral">&quot;\n\n&quot;</span>,</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;        <span class="stringliteral">&quot;[configured]&quot;</span> + <span class="stringliteral">&quot;\n&quot;</span>,</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;    ]</div>
</div><!-- fragment -->
<p>Quick fix. </p>
<p>Quick fix </p>

<p class="definition">Definition at line <a class="el" href="sampling_8py_source.html#l00100">100</a> of file <a class="el" href="sampling_8py_source.html">sampling.py</a>.</p>

</div>
</div>
<a id="ae1cf2aa44b70a91adb961f0816689a70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1cf2aa44b70a91adb961f0816689a70">&#9670;&nbsp;</a></span>metrics</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">list sampling.metrics = [<a class="el" href="symgs_8m.html#a9336ebf25087d91c818ee6e9ec29f8c1">x</a> for <a class="el" href="symgs_8m.html#a9336ebf25087d91c818ee6e9ec29f8c1">x</a> in metrics if <a class="el" href="symgs_8m.html#a9336ebf25087d91c818ee6e9ec29f8c1">x</a> != &quot;&quot;]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sampling_8py_source.html#l00110">110</a> of file <a class="el" href="sampling_8py_source.html">sampling.py</a>.</p>

</div>
</div>
<a id="abe8b72600614798cedc942dfd4675407"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe8b72600614798cedc942dfd4675407">&#9670;&nbsp;</a></span>pcp_conf_name</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string sampling.pcp_conf_name = &quot;pcp_&quot; + source_name + db_tag + &quot;.conf&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add remote ship overheead config_lines = add_pcp(SuperTwin, config_lines) </p>

<p class="definition">Definition at line <a class="el" href="sampling_8py_source.html#l00117">117</a> of file <a class="el" href="sampling_8py_source.html">sampling.py</a>.</p>

</div>
</div>
<a id="a6686df717016f17d8dd13b9106928c74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6686df717016f17d8dd13b9106928c74">&#9670;&nbsp;</a></span>writer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sampling.writer = open(<a class="el" href="namespacesampling.html#abe8b72600614798cedc942dfd4675407">pcp_conf_name</a>, &quot;w&quot;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="sampling_8py_source.html#l00118">118</a> of file <a class="el" href="sampling_8py_source.html">sampling.py</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Mar 5 2024 23:54:12 for Digital-SuperTwin by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
